name: Lighthouse

on:
  workflow_dispatch:
  schedule:
    - cron: "0 3 * * 1" # weekly on Monday at 03:00 UTC

jobs:
  lhci:
    runs-on: ubuntu-latest
    env:
      SITE_URL: https://transcontinental-trek.netlify.app
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Run Lighthouse CI
        uses: treosh/lighthouse-ci-action@v10
        with:
          urls: |
            ${{ env.SITE_URL }}/
            ${{ env.SITE_URL }}/itinerary
            ${{ env.SITE_URL }}/fleet
            ${{ env.SITE_URL }}/blog
          uploadArtifacts: true
          temporaryPublicStorage: true